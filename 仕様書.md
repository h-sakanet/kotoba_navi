# 言葉ナビ：iPad専用PWA仕様書

## 1. 概要
中学受験を目指す小学生の語彙習得をサポートする、iPad専用のPWA（Progressive Web App）。
シンプルかつクリーンなUIを追求し、Netlifyにデプロイして個人利用する。データはすべてブラウザのIndexedDBに保存する。

## 2. 技術要件
- **Frontend:** React, Tailwind CSS
- **Database:** Dexie.js (IndexedDB wrapper)
- **Icons:** Lucide React
- **Platform:** PWA (iPad 横向き固定レイアウト)
- **Deployment:** Netlify

## 3. マスターデータ (scope.csv)
アプリの学習管理単位となるデータ。以下の内容を初期データとして保持、あるいは読み込む。

csv
テキストナンバー,開始ページ,終了ページ,カテゴリ
42A-02,12,16,ことわざ
42A-03,17,21,ことわざ
42A-04,22,27,ことわざ
42A-05,50,52,慣用句
42A-06,53,56,慣用句
42A-07,57,59,慣用句
42A-08,60,63,慣用句
42A-09,88,89,類義語
42A-10,90,91,類義語
42A-11,92,93,対義語
42A-12,94,95,対義語
42A-13,103,106,四字熟語
42A-14,107,110,四字熟語
42A-15,119,121,三字熟語
42A-16,122,124,三字熟語
42A-17,144,146,同音異義語
42A-18,147,150,同音異義語
42A-19,158,159,同訓異字
42A-20,160,162,同訓異字
42A-21,28,33,ことわざ
42A-22,34,39,ことわざ
42A-23,64,67,慣用句
42A-24,68,71,慣用句
42A-25,72,74,慣用句
42A-26,75,77,慣用句
42A-27,96,97,類義語
42A-28,98,99,類義語
42A-29,100,101,対義語
42A-30,102,102,対義語
42A-31,111,114,四字熟語
42A-32,115,118,四字熟語
42A-33,125,127,三字熟語
42A-34,128,130,三字熟語
42A-35,151,153,同音異義語
42A-36,154,157,同音異義語


## 4. 画面仕様と機能
A. 週間リスト画面（Home）
グリッド表示: scope.csvの全レコードをカード形式で表示。

カード内容: テキストナンバー、カテゴリ、ページ範囲（P.xx-xx）、達成度（%）。

達成度計算: 対応ページ範囲内の語彙のうち「習得済み」フラグがONの割合。

データ登録チェック: 該当するページ番号の語彙データがDBにない場合、カードをグレーアウトし「データ未登録」と表示（タップ不可）。

CSVインポート: 右上の「＋」アイコンから語彙CSVをインポート。

バリデーション：1列目が「ページ番号」であること。

インポート時、既存の同一ページ番号データは上書きする。

B. モード選択画面（Modal/Overlay）
Homeでカード選択時に表示。カテゴリ名をボタン名に反映する。

「見て覚える」ボタン: 一覧閲覧画面へ。

「[カテゴリ名]テスト」ボタン: 未習得（フラグOFF）のみ出題。右側に n/n (xx%) 表示。

「意味テスト」ボタン: 未習得のみ出題。右側に n/n (xx%) 表示。

「最終テスト」ボタン: (テストボタンの右側に配置)

習得状況に関わらず、範囲内の全語彙から出題。

特殊なフラグ操作: 「やり直し」選択時のみ、既存フラグを強制的にOFF（未習得）に更新する。「覚えた」選択時はフラグを操作しない。

C. 見て覚える画面（閲覧・編集）
一覧表示: カテゴリごとのデータ構造に基づきテーブル表示。

編集機能: 各行の「編集（Pencil）」ボタンでインライン編集モードへ。

保存（Save）時にIndexedDBを更新。

D. テスト画面
1問1答形式: シャッフルされた問題を表示。

操作フロー: 「正解を表示（Eye）」→「覚えた（Check）」または「やり直し（X）」。

UI: iPadで押しやすい巨大なボタン配置。

## 5. 拡張性に関する重要仕様
語彙データの列構成はカテゴリごとに異なる可能性があるため、以下の実装を求める。

データ格納: scope.csvのカテゴリ項目をキーとし、3列目以降のデータは動的なオブジェクト（Key-Value）としてIndexedDBに格納すること。

UIの動的切り替え: - 「見て覚える」のテーブルヘッダーや「テスト」の出題ラベルは、CSVのヘッダー名やカテゴリ名に基づき動的に変更すること。

例：カテゴリが「四字熟語」なら、テストボタン名は「四字熟語テスト」とする。

## 6. UX・デザイン要件
iPad Landscape: 横向き固定。

シンプル＆クリーン: 子供が迷わない最小限のラベル、Lucideアイコン。

アクセシビリティ: 視認性の高い文字サイズ（問題文32px以上）。